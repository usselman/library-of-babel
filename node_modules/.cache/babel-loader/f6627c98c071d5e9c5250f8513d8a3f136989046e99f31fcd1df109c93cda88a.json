{"ast":null,"code":"import React from'react';import{Buffer}from\"buffer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var bsOrderToTxFormat=function bsOrderToTxFormat(bsvOrder){// Parse the input BSV ordinal outpoint into its components\nvar txidHex=bsvOrder.substring(0,64);// Extract the first 64 characters as txid\nvar outputIndexHex=bsvOrder.substring(65);// Extract the remainder as outputIndex in hexadecimal\n// Convert txid to little-endian format\nvar txidBytes=Buffer.from(txidHex,'hex').reverse();// Convert output index to uint32LE (4 bytes)\nvar outputIndex=Buffer.alloc(4);outputIndex.writeUInt32LE(parseInt(outputIndexHex,16));// Concatenate txid and output index to get the final buffer\nvar txFormatBuffer=Buffer.concat([txidBytes,outputIndex]);// Convert the buffer to a hexadecimal string\nvar txFormatHex=txFormatBuffer.toString('hex');//console.log(\"converted txformat: \", txFormatHex);\nreturn txFormatHex;};var HODLMarketplaceCard=function HODLMarketplaceCard(_ref){var _listing$origin,_listing$origin$data,_listing$origin$data$,_listing$origin$data$2,_listing$data,_listing$data$list;var listing=_ref.listing,locations=_ref.locations,purchaseOrdinal=_ref.purchaseOrdinal;//console.log(\"passed hodl\", listing);\nvar lrcName;var verificationMessage=null;var verificationStyle={};var valid;var amount=parseFloat(listing===null||listing===void 0?void 0:(_listing$origin=listing.origin)===null||_listing$origin===void 0?void 0:(_listing$origin$data=_listing$origin.data)===null||_listing$origin$data===void 0?void 0:(_listing$origin$data$=_listing$origin$data.insc)===null||_listing$origin$data$===void 0?void 0:(_listing$origin$data$2=_listing$origin$data$.json)===null||_listing$origin$data$2===void 0?void 0:_listing$origin$data$2.amt);if(listing){lrcName='$hodl';lrcName='$hodl';var txFormat=bsOrderToTxFormat(listing.outpoint);if(locations.includes(txFormat)){verificationMessage='Valid mint √';verificationStyle={color:'green'};valid=true;}else if(listing.height===null){verificationMessage='Pending miner confirmation';verificationStyle={color:'red'};valid=false;}else{verificationMessage='Invalid mint (or sold)!';verificationStyle={color:'red'};valid=false;}}else{lrcName='unknown LRC-20';}var handleBuyClick=function handleBuyClick(){var outpoint=listing.outpoint;var marketplaceRate=0.01;// Example rate, adjust as needed\nvar marketplaceAddress=\"1PSmNxwoBVcsAB3bRRccDqbFkjtBemS5qh\";// Replace with actual address\npurchaseOrdinal(outpoint,marketplaceRate,marketplaceAddress);};return valid?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg overflow-hidden m-4 p-4 bg-white border-4 border-black shadow-xl hover:bg-gray-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg mb-2\",children:lrcName}),verificationMessage&&/*#__PURE__*/_jsx(\"div\",{style:verificationStyle,children:verificationMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-lg mb-2\",children:[\"Amount: \",amount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-0 border-black text-md rounded-xl p-4 bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://whatsonchain.com/tx/\".concat(listing.txid),children:[listing.origin.data.insc.json.op,\" tx\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://whatsonchain.com/block-height/\".concat(listing.height),children:[\"blk: \",listing.height]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://1satordinals.com/inscription/\".concat(listing.origin.num),children:[\"#\",listing.origin.num]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm p-2\",children:[\"Owned by: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-light\",children:listing===null||listing===void 0?void 0:listing.owner})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleBuyClick,className:\"buy-btn border-0 text-md bg-blue-500 hover:bg-green-700 hover:text-white border-black rounded-xl p-4\",children:[((listing===null||listing===void 0?void 0:(_listing$data=listing.data)===null||_listing$data===void 0?void 0:(_listing$data$list=_listing$data.list)===null||_listing$data$list===void 0?void 0:_listing$data$list.price)/100000000).toFixed(4),\" BSV\"]})]})]}):null;};export default HODLMarketplaceCard;","map":{"version":3,"names":["React","Buffer","jsx","_jsx","jsxs","_jsxs","bsOrderToTxFormat","bsvOrder","txidHex","substring","outputIndexHex","txidBytes","from","reverse","outputIndex","alloc","writeUInt32LE","parseInt","txFormatBuffer","concat","txFormatHex","toString","HODLMarketplaceCard","_ref","_listing$origin","_listing$origin$data","_listing$origin$data$","_listing$origin$data$2","_listing$data","_listing$data$list","listing","locations","purchaseOrdinal","lrcName","verificationMessage","verificationStyle","valid","amount","parseFloat","origin","data","insc","json","amt","txFormat","outpoint","includes","color","height","handleBuyClick","marketplaceRate","marketplaceAddress","children","className","style","href","txid","op","num","owner","onClick","list","price","toFixed"],"sources":["/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/src/components/HODLMarketplaceCard.jsx"],"sourcesContent":["import React from 'react';\nimport { Buffer } from \"buffer\";\n\nexport const bsOrderToTxFormat = (bsvOrder) => {\n    // Parse the input BSV ordinal outpoint into its components\n    const txidHex = bsvOrder.substring(0, 64); // Extract the first 64 characters as txid\n    const outputIndexHex = bsvOrder.substring(65); // Extract the remainder as outputIndex in hexadecimal\n\n    // Convert txid to little-endian format\n    const txidBytes = Buffer.from(txidHex, 'hex').reverse();\n\n    // Convert output index to uint32LE (4 bytes)\n    const outputIndex = Buffer.alloc(4);\n    outputIndex.writeUInt32LE(parseInt(outputIndexHex, 16));\n\n    // Concatenate txid and output index to get the final buffer\n    const txFormatBuffer = Buffer.concat([txidBytes, outputIndex]);\n\n    // Convert the buffer to a hexadecimal string\n    const txFormatHex = txFormatBuffer.toString('hex');\n    //console.log(\"converted txformat: \", txFormatHex);\n    return txFormatHex;\n};\n\nconst HODLMarketplaceCard = ({ listing, locations, purchaseOrdinal }) => {\n    //console.log(\"passed hodl\", listing);\n\n    let lrcName;\n    let verificationMessage = null;\n    let verificationStyle = {};\n    let valid;\n    const amount = parseFloat(listing?.origin?.data?.insc?.json?.amt);\n\n    if (listing) {\n        lrcName = '$hodl';\n\n        lrcName = '$hodl';\n\n        const txFormat = bsOrderToTxFormat(listing.outpoint);\n\n        if (locations.includes(txFormat)) {\n            verificationMessage = 'Valid mint √';\n            verificationStyle = { color: 'green' };\n            valid = true;\n        } else if (listing.height === null) {\n            verificationMessage = 'Pending miner confirmation';\n            verificationStyle = { color: 'red' };\n            valid = false;\n        }\n        else {\n            verificationMessage = 'Invalid mint (or sold)!';\n            verificationStyle = { color: 'red' };\n            valid = false;\n        }\n    } else {\n        lrcName = 'unknown LRC-20';\n    }\n\n    const handleBuyClick = () => {\n        const outpoint = listing.outpoint;\n        const marketplaceRate = 0.01; // Example rate, adjust as needed\n        const marketplaceAddress = \"1PSmNxwoBVcsAB3bRRccDqbFkjtBemS5qh\"; // Replace with actual address\n\n        purchaseOrdinal(outpoint, marketplaceRate, marketplaceAddress);\n    };\n    return valid ? (\n        <div>\n            <div className={`rounded-lg overflow-hidden m-4 p-4 bg-white border-4 border-black shadow-xl hover:bg-gray-300`}>\n                <div className=\"px-6 py-4\">\n                    <div className=\"font-bold text-lg mb-2\">{lrcName}</div>\n                    {verificationMessage && <div style={verificationStyle}>{verificationMessage}</div>}\n                    <div className=\"font-bold text-lg mb-2\">Amount: {amount}</div>\n                    <div className=\"border-0 border-black text-md rounded-xl p-4 bg-white\">\n                        <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/tx/${listing.txid}`}>{listing.origin.data.insc.json.op} tx</a></div>\n                        <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/block-height/${listing.height}`}>blk: {listing.height}</a></div>\n                        <div className=\"font-bold mb-2 underline\"><a href={`https://1satordinals.com/inscription/${listing.origin.num}`}>#{listing.origin.num}</a></div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div className=\"text-sm p-2\">\n                    Owned by: <span className=\"font-light\">{listing?.owner}</span>\n                </div>\n                <button\n                    onClick={handleBuyClick}\n                    className=\"buy-btn border-0 text-md bg-blue-500 hover:bg-green-700 hover:text-white border-black rounded-xl p-4\">\n                    {(listing?.data?.list?.price / 100000000).toFixed(4)} BSV\n                </button>\n            </div>\n        </div>\n    ) : null;\n};\n\n\nexport default HODLMarketplaceCard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,MAAO,IAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,QAAQ,CAAK,CAC3C;AACA,GAAM,CAAAC,OAAO,CAAGD,QAAQ,CAACE,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAE;AAC3C,GAAM,CAAAC,cAAc,CAAGH,QAAQ,CAACE,SAAS,CAAC,EAAE,CAAC,CAAE;AAE/C;AACA,GAAM,CAAAE,SAAS,CAAGV,MAAM,CAACW,IAAI,CAACJ,OAAO,CAAE,KAAK,CAAC,CAACK,OAAO,CAAC,CAAC,CAEvD;AACA,GAAM,CAAAC,WAAW,CAAGb,MAAM,CAACc,KAAK,CAAC,CAAC,CAAC,CACnCD,WAAW,CAACE,aAAa,CAACC,QAAQ,CAACP,cAAc,CAAE,EAAE,CAAC,CAAC,CAEvD;AACA,GAAM,CAAAQ,cAAc,CAAGjB,MAAM,CAACkB,MAAM,CAAC,CAACR,SAAS,CAAEG,WAAW,CAAC,CAAC,CAE9D;AACA,GAAM,CAAAM,WAAW,CAAGF,cAAc,CAACG,QAAQ,CAAC,KAAK,CAAC,CAClD;AACA,MAAO,CAAAD,WAAW,CACtB,CAAC,CAED,GAAM,CAAAE,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAgD,KAAAC,eAAA,CAAAC,oBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,aAAA,CAAAC,kBAAA,IAA1C,CAAAC,OAAO,CAAAP,IAAA,CAAPO,OAAO,CAAEC,SAAS,CAAAR,IAAA,CAATQ,SAAS,CAAEC,eAAe,CAAAT,IAAA,CAAfS,eAAe,CAC9D;AAEA,GAAI,CAAAC,OAAO,CACX,GAAI,CAAAC,mBAAmB,CAAG,IAAI,CAC9B,GAAI,CAAAC,iBAAiB,CAAG,CAAC,CAAC,CAC1B,GAAI,CAAAC,KAAK,CACT,GAAM,CAAAC,MAAM,CAAGC,UAAU,CAACR,OAAO,SAAPA,OAAO,kBAAAN,eAAA,CAAPM,OAAO,CAAES,MAAM,UAAAf,eAAA,kBAAAC,oBAAA,CAAfD,eAAA,CAAiBgB,IAAI,UAAAf,oBAAA,kBAAAC,qBAAA,CAArBD,oBAAA,CAAuBgB,IAAI,UAAAf,qBAAA,kBAAAC,sBAAA,CAA3BD,qBAAA,CAA6BgB,IAAI,UAAAf,sBAAA,iBAAjCA,sBAAA,CAAmCgB,GAAG,CAAC,CAEjE,GAAIb,OAAO,CAAE,CACTG,OAAO,CAAG,OAAO,CAEjBA,OAAO,CAAG,OAAO,CAEjB,GAAM,CAAAW,QAAQ,CAAGtC,iBAAiB,CAACwB,OAAO,CAACe,QAAQ,CAAC,CAEpD,GAAId,SAAS,CAACe,QAAQ,CAACF,QAAQ,CAAC,CAAE,CAC9BV,mBAAmB,CAAG,cAAc,CACpCC,iBAAiB,CAAG,CAAEY,KAAK,CAAE,OAAQ,CAAC,CACtCX,KAAK,CAAG,IAAI,CAChB,CAAC,IAAM,IAAIN,OAAO,CAACkB,MAAM,GAAK,IAAI,CAAE,CAChCd,mBAAmB,CAAG,4BAA4B,CAClDC,iBAAiB,CAAG,CAAEY,KAAK,CAAE,KAAM,CAAC,CACpCX,KAAK,CAAG,KAAK,CACjB,CAAC,IACI,CACDF,mBAAmB,CAAG,yBAAyB,CAC/CC,iBAAiB,CAAG,CAAEY,KAAK,CAAE,KAAM,CAAC,CACpCX,KAAK,CAAG,KAAK,CACjB,CACJ,CAAC,IAAM,CACHH,OAAO,CAAG,gBAAgB,CAC9B,CAEA,GAAM,CAAAgB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,GAAM,CAAAJ,QAAQ,CAAGf,OAAO,CAACe,QAAQ,CACjC,GAAM,CAAAK,eAAe,CAAG,IAAI,CAAE;AAC9B,GAAM,CAAAC,kBAAkB,CAAG,oCAAoC,CAAE;AAEjEnB,eAAe,CAACa,QAAQ,CAAEK,eAAe,CAAEC,kBAAkB,CAAC,CAClE,CAAC,CACD,MAAO,CAAAf,KAAK,cACR/B,KAAA,QAAA+C,QAAA,eACIjD,IAAA,QAAKkD,SAAS,gGAAkG,CAAAD,QAAA,cAC5G/C,KAAA,QAAKgD,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBjD,IAAA,QAAKkD,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAEnB,OAAO,CAAM,CAAC,CACtDC,mBAAmB,eAAI/B,IAAA,QAAKmD,KAAK,CAAEnB,iBAAkB,CAAAiB,QAAA,CAAElB,mBAAmB,CAAM,CAAC,cAClF7B,KAAA,QAAKgD,SAAS,CAAC,wBAAwB,CAAAD,QAAA,EAAC,UAAQ,CAACf,MAAM,EAAM,CAAC,cAC9DhC,KAAA,QAAKgD,SAAS,CAAC,uDAAuD,CAAAD,QAAA,eAClEjD,IAAA,QAAKkD,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cAAC/C,KAAA,MAAGkD,IAAI,gCAAApC,MAAA,CAAiCW,OAAO,CAAC0B,IAAI,CAAG,CAAAJ,QAAA,EAAEtB,OAAO,CAACS,MAAM,CAACC,IAAI,CAACC,IAAI,CAACC,IAAI,CAACe,EAAE,CAAC,KAAG,EAAG,CAAC,CAAK,CAAC,cACjJtD,IAAA,QAAKkD,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cAAC/C,KAAA,MAAGkD,IAAI,0CAAApC,MAAA,CAA2CW,OAAO,CAACkB,MAAM,CAAG,CAAAI,QAAA,EAAC,OAAK,CAACtB,OAAO,CAACkB,MAAM,EAAI,CAAC,CAAK,CAAC,cAC7I7C,IAAA,QAAKkD,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cAAC/C,KAAA,MAAGkD,IAAI,yCAAApC,MAAA,CAA0CW,OAAO,CAACS,MAAM,CAACmB,GAAG,CAAG,CAAAN,QAAA,EAAC,GAAC,CAACtB,OAAO,CAACS,MAAM,CAACmB,GAAG,EAAI,CAAC,CAAK,CAAC,EAC/I,CAAC,EACL,CAAC,CACL,CAAC,cACNrD,KAAA,QAAA+C,QAAA,eACI/C,KAAA,QAAKgD,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,YACf,cAAAjD,IAAA,SAAMkD,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEtB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE6B,KAAK,CAAO,CAAC,EAC7D,CAAC,cACNtD,KAAA,WACIuD,OAAO,CAAEX,cAAe,CACxBI,SAAS,CAAC,sGAAsG,CAAAD,QAAA,EAC/G,CAAC,CAAAtB,OAAO,SAAPA,OAAO,kBAAAF,aAAA,CAAPE,OAAO,CAAEU,IAAI,UAAAZ,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeiC,IAAI,UAAAhC,kBAAA,iBAAnBA,kBAAA,CAAqBiC,KAAK,EAAG,SAAS,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,MACzD,EAAQ,CAAC,EACR,CAAC,EACL,CAAC,CACN,IAAI,CACZ,CAAC,CAGD,cAAe,CAAAzC,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}