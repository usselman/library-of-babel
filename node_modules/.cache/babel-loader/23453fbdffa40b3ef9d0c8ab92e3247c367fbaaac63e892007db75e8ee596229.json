{"ast":null,"code":"import React,{useEffect}from\"react\";import{Buffer}from\"buffer\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var bsOrderToTxFormat=function bsOrderToTxFormat(bsvOrder){var txidHex=bsvOrder.substring(0,64);var outputIndexHex=bsvOrder.substring(65);var txidBytes=Buffer.from(txidHex,'hex').reverse();var outputIndex=Buffer.alloc(4);outputIndex.writeUInt32LE(parseInt(outputIndexHex,16));var txFormatBuffer=Buffer.concat([txidBytes,outputIndex]);return txFormatBuffer.toString('hex');};var LRCCard=function LRCCard(_ref){var ordinal=_ref.ordinal,setHodlSum=_ref.setHodlSum,locations=_ref.locations;var lrcName;var verificationMessage=null;var verificationStyle={};var valid=false;var amount=parseFloat(ordinal.data.insc.json.amt);if(ordinal.data.insc.json.id==='bfd3bfe2d65a131e9792ee04a2da9594d9dc8741a7ab362c11945bfc368d2063_1'){lrcName='$hodl';var txFormat=bsOrderToTxFormat(ordinal.outpoint);if(locations.includes(txFormat)){verificationMessage='Valid mint';verificationStyle={color:'green'};valid=true;}else{verificationMessage='Invalid mint';verificationStyle={color:'red'};valid=false;}}else{lrcName='unknown LRC-20';}useEffect(function(){if(valid){setHodlSum(function(prev){return prev+amount;});}},[valid,amount,setHodlSum]);return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg overflow-hidden m-4 p-4 bg-white border-2 border-black shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-2xl mb-2 tracking-wider\",children:[ordinal.data.insc.json.amt,\" \",lrcName]}),verificationMessage&&/*#__PURE__*/_jsx(\"div\",{style:verificationStyle,children:verificationMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-0 border-black text-md rounded-xl p-4 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://whatsonchain.com/tx/\".concat(ordinal.txid),children:[ordinal.data.insc.json.op,\" tx\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://whatsonchain.com/block-height/\".concat(ordinal.height),children:[\"blk: \",ordinal.height]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://1satordinals.com/inscription/\".concat(ordinal.origin.num),children:[\"#\",ordinal.origin.num]})})]})]})});};export default LRCCard;","map":{"version":3,"names":["React","useEffect","Buffer","jsxs","_jsxs","jsx","_jsx","bsOrderToTxFormat","bsvOrder","txidHex","substring","outputIndexHex","txidBytes","from","reverse","outputIndex","alloc","writeUInt32LE","parseInt","txFormatBuffer","concat","toString","LRCCard","_ref","ordinal","setHodlSum","locations","lrcName","verificationMessage","verificationStyle","valid","amount","parseFloat","data","insc","json","amt","id","txFormat","outpoint","includes","color","prev","className","children","style","href","txid","op","height","origin","num"],"sources":["/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/src/components/LRCCard.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Buffer } from \"buffer\";\n\ntype BSVOrder = string;\n\nexport const bsOrderToTxFormat = (bsvOrder: BSVOrder): string => {\n  const txidHex = bsvOrder.substring(0, 64);\n  const outputIndexHex = bsvOrder.substring(65);\n\n  const txidBytes = Buffer.from(txidHex, 'hex').reverse();\n\n  const outputIndex = Buffer.alloc(4);\n  outputIndex.writeUInt32LE(parseInt(outputIndexHex, 16));\n\n  const txFormatBuffer = Buffer.concat([txidBytes, outputIndex]);\n\n  return txFormatBuffer.toString('hex');\n};\n\ninterface LRCCardProps {\n  ordinal: any;\n  setHodlSum: (updateFn: (prevSum: number) => number) => void;\n  locations: string[];\n}\n\nconst LRCCard: React.FC<LRCCardProps> = ({ ordinal, setHodlSum, locations }) => {\n  let lrcName: string;\n  let verificationMessage: string | null = null;\n  let verificationStyle: React.CSSProperties = {};\n  let valid: boolean = false;\n  const amount = parseFloat(ordinal.data.insc.json.amt);\n\n  if (ordinal.data.insc.json.id === 'bfd3bfe2d65a131e9792ee04a2da9594d9dc8741a7ab362c11945bfc368d2063_1') {\n    lrcName = '$hodl';\n\n    const txFormat = bsOrderToTxFormat(ordinal.outpoint);\n\n    if (locations.includes(txFormat)) {\n      verificationMessage = 'Valid mint';\n      verificationStyle = { color: 'green' };\n      valid = true;\n    } else {\n      verificationMessage = 'Invalid mint';\n      verificationStyle = { color: 'red' };\n      valid = false;\n    }\n  } else {\n    lrcName = 'unknown LRC-20';\n  }\n\n  useEffect(() => {\n    if (valid) {\n      setHodlSum(prev => prev + amount);\n    }\n  }, [valid, amount, setHodlSum]);\n\n  return (\n    <div className={`rounded-lg overflow-hidden m-4 p-4 bg-white border-2 border-black shadow-xl`}>\n      <div className=\"px-6 py-4\">\n        <div className=\"font-bold text-2xl mb-2 tracking-wider\">{ordinal.data.insc.json.amt} {lrcName}</div>\n        {verificationMessage && <div style={verificationStyle}>{verificationMessage}</div>}\n        <div className=\"border-0 border-black text-md rounded-xl p-4 \">\n          <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/tx/${ordinal.txid}`}>{ordinal.data.insc.json.op} tx</a></div>\n          <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/block-height/${ordinal.height}`}>blk: {ordinal.height}</a></div>\n          <div className=\"font-bold mb-2 underline\"><a href={`https://1satordinals.com/inscription/${ordinal.origin.num}`}>#{ordinal.origin.num}</a></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LRCCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}