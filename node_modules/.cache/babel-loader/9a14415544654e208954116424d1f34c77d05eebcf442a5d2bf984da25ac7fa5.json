{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OGCards=function OGCards(_ref){var _ordinal$data,_ordinal$data$insc;var ordinal=_ref.ordinal,address=_ref.address,transferOrdinal=_ref.transferOrdinal;var _useState=useState('Pending'),_useState2=_slicedToArray(_useState,2),verificationStatus=_useState2[0],setVerificationStatus=_useState2[1];var lockQueryUrl='https://ordinals.gorillapool.io/api/locks/txid/';useEffect(function(){verifyRecord();},[]);var isDigit=function isDigit(item){var _item$data,_item$data$insc,_item$data2,_item$data2$insc;var selectedIndex=((_item$data=item.data)===null||_item$data===void 0?void 0:(_item$data$insc=_item$data.insc)===null||_item$data$insc===void 0?void 0:_item$data$insc.words[0])==='og'?1:0;var parsed=parseInt((_item$data2=item.data)===null||_item$data2===void 0?void 0:(_item$data2$insc=_item$data2.insc)===null||_item$data2$insc===void 0?void 0:_item$data2$insc.words[selectedIndex],10);return!isNaN(parsed);};// Refactored checkLock function for streamlining the verification process\nvar checkLock=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(txid){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=lockQueryUrl+txid;_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error(\"HTTP error! status: \".concat(response.status));case 7:_context.next=9;return response.json();case 9:data=_context.sent;return _context.abrupt(\"return\",data.some(function(item){return item.satoshis>=1000000&&item.data&&item.data.lock&&item.data.lock.until>=1050000;}));case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error('Error fetching lock data:',_context.t0);return _context.abrupt(\"return\",false);case 17:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function checkLock(_x){return _ref2.apply(this,arguments);};}();var verifyRecord=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var hasLock;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(isDigit(ordinal)){_context2.next=3;break;}setVerificationStatus(\"Not A Number (✗)\");return _context2.abrupt(\"return\");case 3:_context2.next=5;return checkLock(ordinal.txid);case 5:hasLock=_context2.sent;setVerificationStatus(hasLock?\"Verified (✓)\":\"Not Verified (✗)\");case 7:case\"end\":return _context2.stop();}},_callee2);}));return function verifyRecord(){return _ref3.apply(this,arguments);};}();var handleTransfer=function handleTransfer(){var receiverAddress=prompt(\"Enter the receiver's address:\");if(!receiverAddress)return;transferOrdinal(receiverAddress,ordinal.origin,ordinal.outpoint);};return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg overflow-hidden m-4 p-4 bg-white border-2 border-black shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-2xl mb-2 tracking-widest\",children:ordinal===null||ordinal===void 0?void 0:(_ordinal$data=ordinal.data)===null||_ordinal$data===void 0?void 0:(_ordinal$data$insc=_ordinal$data.insc)===null||_ordinal$data$insc===void 0?void 0:_ordinal$data$insc.text}),/*#__PURE__*/_jsx(\"div\",{className:\"m-4\",style:{color:verificationStatus.includes(\"✓\")?'green':'red'},children:verificationStatus}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleTransfer,className:\"transfer-btn border-0 text-md bg-blue-500 hover:bg-black hover:text-white border-black rounded-xl p-4 place-content-center\",children:\"Transfer\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-0 border-black text-md rounded-xl p-4 bg-white mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://whatsonchain.com/tx/\".concat(ordinal.txid),children:\"tx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://whatsonchain.com/block-height/\".concat(ordinal.height),children:[\"blk: \",ordinal.height]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold mb-2 underline\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://1satordinals.com/inscription/\".concat(ordinal.origin.num),children:[\"#\",ordinal.origin.num]})})]})]})});};export default OGCards;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","OGCards","_ref","_ordinal$data","_ordinal$data$insc","ordinal","address","transferOrdinal","_useState","_useState2","_slicedToArray","verificationStatus","setVerificationStatus","lockQueryUrl","verifyRecord","isDigit","item","_item$data","_item$data$insc","_item$data2","_item$data2$insc","selectedIndex","data","insc","words","parsed","parseInt","isNaN","checkLock","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","txid","url","response","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","concat","status","json","abrupt","some","satoshis","lock","until","t0","console","error","stop","_x","apply","arguments","_ref3","_callee2","hasLock","_callee2$","_context2","handleTransfer","receiverAddress","prompt","origin","outpoint","className","children","text","style","color","includes","onClick","href","height","num"],"sources":["/Users/shirishsarkar/Library/Mobile Documents/com~apple~CloudDocs/Documents/_CODE/library-of-babel/src/components/OGCards.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst OGCards = ({ ordinal, address, transferOrdinal }) => {\n    const [verificationStatus, setVerificationStatus] = useState('Pending');\n    const lockQueryUrl = 'https://ordinals.gorillapool.io/api/locks/txid/';\n\n    useEffect(() => {\n        verifyRecord();\n    }, []);\n\n    const isDigit = (item) => {\n        const selectedIndex = item.data?.insc?.words[0] === 'og' ? 1 : 0;\n        const parsed = parseInt(item.data?.insc?.words[selectedIndex], 10);\n        return !isNaN(parsed);\n    };\n\n    // Refactored checkLock function for streamlining the verification process\n    const checkLock = async (txid) => {\n        const url = lockQueryUrl + txid;\n        try {\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const data = await response.json();\n            return data.some(item => item.satoshis >= 1000000 && item.data && item.data.lock && item.data.lock.until >= 1050000);\n        } catch (error) {\n            console.error('Error fetching lock data:', error);\n            return false;\n        }\n    };\n\n    const verifyRecord = async () => {\n        if (!isDigit(ordinal)) {\n            setVerificationStatus(\"Not A Number (✗)\");\n            return;\n        }\n\n        const hasLock = await checkLock(ordinal.txid);\n        setVerificationStatus(hasLock ? \"Verified (✓)\" : \"Not Verified (✗)\");\n    };\n\n    const handleTransfer = () => {\n        const receiverAddress = prompt(\"Enter the receiver's address:\");\n        if (!receiverAddress) return;\n        transferOrdinal(receiverAddress, ordinal.origin, ordinal.outpoint);\n    };\n\n    return (\n        <div className={`rounded-lg overflow-hidden m-4 p-4 bg-white border-2 border-black shadow-xl`}>\n            <div className=\"px-6 py-4\">\n                <div className=\"font-bold text-2xl mb-2 tracking-widest\">{ordinal?.data?.insc?.text}</div>\n                <div\n                    className=\"m-4\"\n                    style={{ color: verificationStatus.includes(\"✓\") ? 'green' : 'red' }}>\n                    {verificationStatus}\n                </div>\n                <div className=\"text-center mt-4\">\n                    <button\n                        onClick={handleTransfer}\n                        className=\"transfer-btn border-0 text-md bg-blue-500 hover:bg-black hover:text-white border-black rounded-xl p-4 place-content-center\">\n                        Transfer\n                    </button>\n                </div>\n                <div className=\"border-0 border-black text-md rounded-xl p-4 bg-white mt-4\">\n                    <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/tx/${ordinal.txid}`}>tx</a></div>\n                    <div className=\"font-bold mb-2 underline\"><a href={`https://whatsonchain.com/block-height/${ordinal.height}`}>blk: {ordinal.height}</a></div>\n                    <div className=\"font-bold mb-2 underline\"><a href={`https://1satordinals.com/inscription/${ordinal.origin.num}`}>#{ordinal.origin.num}</a></div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default OGCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}